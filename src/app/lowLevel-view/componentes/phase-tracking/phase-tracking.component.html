<mat-card>
    <mat-card-title class="cardTitle">Phase Tracking
    </mat-card-title>
    <p-table [value]="porject.phaseArr" [style]="{'width':'400px'}" (onEditComplete)="onEditComplete($event)">
        <ng-template pTemplate="header">
            <tr>
                <!-- <th [ngStyle]="{'width':'1px'}"></th> -->
                <th>Phase Name</th>
                <th [ngStyle]="{'width':'100px'}">Predicted Duration (weeks)</th>
                <th [ngStyle]="{'width':'100px'}">Actual Duration (weeks)</th>
                <th [ngStyle]="{'width':'100px'}">Impact</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-i="rowIndex">
            <tr>
                <!-- <td [ngStyle]="setPhaseBackgroundColor(i)"></td> -->
                <td pEditableColumn>
                    <p-cellEditor [ngStyle]="setPhaseBackgroundColor(i)">
                        <ng-template pTemplate="input">
                            <!-- <input pInputText type="text" [(ngModel)]="rowData.name" [disabled]="true"> -->
                            {{i+1}} {{rowData.name}}
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{i+1}} {{rowData.name}}
                        </ng-template>
                    </p-cellEditor>
                </td>


                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="rowData.predictedDurationInWeeks" required [disabled]="readMode" (input)="onTextEnterdInField($event)" OnlyNumber="true">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{rowData.predictedDurationInWeeks}}
                        </ng-template>
                    </p-cellEditor>
                </td>


                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="rowData.actualDurationInWeeks" required [disabled]="readMode" (input)="onTextEnterdInField($event)">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{rowData.actualDurationInWeeks}}
                        </ng-template>
                    </p-cellEditor>
                </td>

                <td pEditableColumn>
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="rowData.impact" required [disabled]="readMode">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{rowData.impact}}
                        </ng-template>
                    </p-cellEditor>
                </td>
            </tr>

        </ng-template>
        <ng-template pTemplate="footer">
            <tr>
                <td colspan="1" [ngClass]="['text-align-left']">Totals</td>
                <td [ngClass]="['text-align-right']">{{totalPhasePredicted }}</td>
                <td [ngClass]="['text-align-right']">{{totalActualPredicted }}</td>
                <!-- hide total impact (total bueget - total actul) -->
                <td [ngClass]="['text-align-right']">
                    <!-- {{totalPhasePredicted -totalActualPredicted | currency}} -->
                </td>
            </tr>
        </ng-template>
    </p-table>
</mat-card>